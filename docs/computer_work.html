<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Computer Work</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ECON 402</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Overview</a>
</li>
<li>
  <a href="notes.html">Notes</a>
</li>
<li>
  <a href="labor_market_friday.html">Labor Market Friday in R</a>
</li>
<li>
  <a href="computer_work.html">Computer Work</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Computer Work</h1>

</div>


<div id="okuns-law" class="section level1">
<h1>Okun’s law</h1>
<p>Professor House mentioned the “statistical pattern” known as Okun’s law in class. From the “Lecture_2_handouts”: <span class="math display">\[
\% \Delta \text{GDP} \approx 3 \% - 2 \% \times \Delta \text{unemployment rate}.
\]</span> Plotting this relationship involves two steps. We first need to grab the data from FRED. Second, we need to regress the percent change in GDP against the change in the unemployment rate to uncover estimates of the two above parameters that define the linear relationship. The R code replicates figure 10-4 in Mankiw, 9e, p 286.</p>
<div id="getting-the-data-from-fred" class="section level2">
<h2>Getting the data from FRED</h2>
<p>The first step is getting the data from FRED and creating annual averages of the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(tidyquant)
dat &lt;-<span class="st"> </span><span class="kw">tq_get</span>(<span class="kw">c</span>(<span class="st">&quot;UNRATE&quot;</span>, <span class="st">&quot;GDPC1&quot;</span>), 
              <span class="dt">get =</span> <span class="st">&quot;economic.data&quot;</span>,
              <span class="dt">from =</span> <span class="st">&quot;1940-01-01&quot;</span>)
<span class="co"># &quot;Spread&quot; the data</span>
dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(<span class="dt">key =</span> symbol, <span class="dt">value =</span> price) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">year</span>(date)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>date)
<span class="co"># Get annual averages</span>
by_year &lt;-<span class="st"> </span><span class="kw">group_by</span>(dat, year)
dat &lt;-<span class="st"> </span><span class="kw">summarise_all</span>(by_year, mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##    year GDPC1 UNRATE
##   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 1947. 1939. NaN   
## 2 1948. 2020.   3.75
## 3 1949. 2009.   6.05
## 4 1950. 2184.   5.21
## 5 1951. 2360.   3.28
## 6 1952. 2456.   3.02</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##    year  GDPC1 UNRATE
##   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 2013. 15612.   7.36
## 2 2014. 16013.   6.18
## 3 2015. 16472.   5.27
## 4 2016. 16716.   4.87
## 5 2017. 17092.   4.35
## 6 2018.   NaN    4.10</code></pre>
<p>We’re interested in the percent change in real GDP and the difference in the unemployment rates:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculate percent change in rGDP and the difference in the unemployment rate</span>
dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gdp =</span> <span class="dv">100</span><span class="op">*</span>(GDPC1 <span class="op">/</span><span class="st"> </span><span class="kw">lag</span>(GDPC1) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>),
         <span class="dt">ur =</span> UNRATE <span class="op">-</span><span class="st"> </span><span class="kw">lag</span>(UNRATE))</code></pre></div>
</div>
<div id="estimating-the-pattern" class="section level2">
<h2>Estimating the pattern</h2>
<p>At this point we’re ready to estimate the relationship between the percentage change in real GDP and the change in the unemployment rate posited by Okun:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Run the regression</span>
okun &lt;-<span class="st"> </span><span class="kw">lm</span>(gdp <span class="op">~</span><span class="st"> </span>ur, <span class="dt">data =</span> dat)
<span class="kw">print</span>(okun)</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = gdp ~ ur, data = dat)
## 
## Coefficients:
## (Intercept)           ur  
##       3.185       -1.751</code></pre>
<p>With rounding, we’re at the coefficients mentioned in class, which is a minor victory.</p>
<p>The last step is plotting the data. To do so, we need to add the regression line:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">xur &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">3</span>)
reg_line &lt;-<span class="st"> </span>okun<span class="op">$</span>coefficients[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>okun<span class="op">$</span>coefficients[[<span class="dv">2</span>]]<span class="op">*</span>xur
fit &lt;-<span class="st"> </span><span class="kw">tibble</span>(xur, reg_line)

<span class="kw">ggplot</span>(<span class="dt">data =</span> dat) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> ur, <span class="dt">y =</span> gdp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> xur, <span class="dt">y =</span> reg_line), 
            <span class="dt">data =</span> fit,
            <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, 
            <span class="dt">size =</span> <span class="fl">1.2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Change in the unemployment rate&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Percentage change in real GDP&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Okun&#39;s law&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Just fyi: you can add a regression line in R without having to run the regression using R’s built-in commands. I did these calculations by hand just for practice.</p>
</div>
</div>
<div id="real-interest-rates-from-homework-1" class="section level1">
<h1>Real interest rates from homework 1</h1>
<p>Read in the data that is provided on Canvas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(lubridate)
dat &lt;-<span class="st"> </span>readxl<span class="op">::</span><span class="kw">read_excel</span>(<span class="st">&quot;../PS1-data_2018.xlsx&quot;</span>)
<span class="kw">head</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##    Year Month  CPIU FEDFUNDS
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1 1960.    1.  29.4     3.99
## 2 1960.    2.  29.4     3.97
## 3 1960.    3.  29.4     3.84
## 4 1960.    4.  29.5     3.92
## 5 1960.    5.  29.6     3.85
## 6 1960.    6.  29.6     3.32</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##    Year Month  CPIU FEDFUNDS
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1 2017.    6.  244.     1.04
## 2 2017.    7.  244.     1.15
## 3 2017.    8.  245.     1.16
## 4 2017.    9.  246.     1.15
## 5 2017.   10.  247.     1.15
## 6 2017.   11.  248.     1.16</code></pre>
<p>Next we want to compute the inflation rate as a percent change at an annual rate. The formula for computing a compounded annual rate of change is <span class="math display">\[
\left[ \left( \frac{x_t}{x_{t-1}} \right)^{\text{number obs per year}} - 1 \right] \times 100,
\]</span> where <span class="math inline">\(x_t\)</span> is the value of the series at time <span class="math inline">\(t\)</span>. For monthly data the number of observations per year is <span class="math inline">\(12\)</span>. A useful overview of similar transformations is available at the FRED <a href="https://fredhelp.stlouisfed.org/fred/data/understanding-the-data/formulas-calculate-growth-rates/">website</a>. To accomplish this in R we can use the <code>lag</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">LCPIU =</span> <span class="kw">lag</span>(CPIU))
<span class="kw">head</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 5
##    Year Month  CPIU FEDFUNDS LCPIU
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 1960.    1.  29.4     3.99  NA  
## 2 1960.    2.  29.4     3.97  29.4
## 3 1960.    3.  29.4     3.84  29.4
## 4 1960.    4.  29.5     3.92  29.4
## 5 1960.    5.  29.6     3.85  29.5
## 6 1960.    6.  29.6     3.32  29.6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 5
##    Year Month  CPIU FEDFUNDS LCPIU
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 2017.    6.  244.     1.04  244.
## 2 2017.    7.  244.     1.15  244.
## 3 2017.    8.  245.     1.16  244.
## 4 2017.    9.  246.     1.15  245.
## 5 2017.   10.  247.     1.15  246.
## 6 2017.   11.  248.     1.16  247.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">infl =</span> <span class="dv">100</span><span class="op">*</span>((CPIU <span class="op">/</span><span class="st"> </span>LCPIU)<span class="op">^</span><span class="dv">12</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span>),
         <span class="dt">datem =</span> <span class="kw">ymd</span>(<span class="kw">paste0</span>(Year, <span class="st">&quot;-&quot;</span>, Month, <span class="st">&quot;-01&quot;</span>)))

dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(datem <span class="op">&lt;=</span><span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;2015-11-01&quot;</span>),
         datem <span class="op">&gt;=</span><span class="st"> </span><span class="kw">ymd</span>(<span class="st">&quot;1960-01-01&quot;</span>))
<span class="kw">ggplot</span>(<span class="dt">data =</span> dat) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> datem, <span class="dt">y =</span> infl)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Percent per year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Inflation&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Now we can compute the <em>ex post</em> real interest rate (see the post <a href="https://richryan.github.io/2018/01/22/ex-ante-ex-post.html">here</a>). The Fisher equation is better expressed as <span class="math inline">\(r_t = i_t - \mathbb{E}_t \pi_{t+1}\)</span>. At time <span class="math inline">\(t\)</span> we don’t know expected inflation. There are a couple of ways you could imagine proceeding. The <em>ex post</em> real interest rate is constructed by putting actual inflation: <span class="math display">\[
r_t = \text{Fed Funds Rate}_t - \text{inflation}_{t+1}.
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">r =</span> FEDFUNDS <span class="op">-</span><span class="st"> </span><span class="kw">lead</span>(infl)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(r))</code></pre></div>
<p>And plot the resulting series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> dat) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> datem, <span class="dt">y =</span> r)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Percent per year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Real interest rates&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg &lt;-<span class="st"> </span><span class="kw">mean</span>(dat<span class="op">$</span>r, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>The real interest rate in 2015-10-01 is -1.7170486. The average real interest rate over the sample is 1.3743401.</p>
<p>Ideally you’d like to list those numbers using R code. Here’s the code I used: <code>max(dat$datem)</code> and <code>dat$r[[which(dat$datem == max(dat$datem))]]</code>. Putting an <code>r</code> in from of those commands lists the output within the R markdown, resulting in the output you see above.</p>
<p>We can add recession shading and the sample avarage:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">recessions_df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="kw">textConnection</span>(
<span class="st">&quot;Peak, Trough</span>
<span class="st">1857-06-01, 1858-12-01</span>
<span class="st">1860-10-01, 1861-06-01</span>
<span class="st">1865-04-01, 1867-12-01</span>
<span class="st">1869-06-01, 1870-12-01</span>
<span class="st">1873-10-01, 1879-03-01</span>
<span class="st">1882-03-01, 1885-05-01</span>
<span class="st">1887-03-01, 1888-04-01</span>
<span class="st">1890-07-01, 1891-05-01</span>
<span class="st">1893-01-01, 1894-06-01</span>
<span class="st">1895-12-01, 1897-06-01</span>
<span class="st">1899-06-01, 1900-12-01</span>
<span class="st">1902-09-01, 1904-08-01</span>
<span class="st">1907-05-01, 1908-06-01</span>
<span class="st">1910-01-01, 1912-01-01</span>
<span class="st">1913-01-01, 1914-12-01</span>
<span class="st">1918-08-01, 1919-03-01</span>
<span class="st">1920-01-01, 1921-07-01</span>
<span class="st">1923-05-01, 1924-07-01</span>
<span class="st">1926-10-01, 1927-11-01</span>
<span class="st">1929-08-01, 1933-03-01</span>
<span class="st">1937-05-01, 1938-06-01</span>
<span class="st">1945-02-01, 1945-10-01</span>
<span class="st">1948-11-01, 1949-10-01</span>
<span class="st">1953-07-01, 1954-05-01</span>
<span class="st">1957-08-01, 1958-04-01</span>
<span class="st">1960-04-01, 1961-02-01</span>
<span class="st">1969-12-01, 1970-11-01</span>
<span class="st">1973-11-01, 1975-03-01</span>
<span class="st">1980-01-01, 1980-07-01</span>
<span class="st">1981-07-01, 1982-11-01</span>
<span class="st">1990-07-01, 1991-03-01</span>
<span class="st">2001-03-01, 2001-11-01</span>
<span class="st">2007-12-01, 2009-06-01&quot;</span>), <span class="dt">sep=</span><span class="st">&#39;,&#39;</span>, 
<span class="dt">colClasses=</span><span class="kw">c</span>(<span class="st">&#39;Date&#39;</span>, <span class="st">&#39;Date&#39;</span>), 
<span class="dt">header=</span><span class="ot">TRUE</span>)

recessions_trim &lt;-<span class="st"> </span><span class="kw">subset</span>(recessions_df, Peak <span class="op">&gt;=</span><span class="st"> </span><span class="kw">min</span>(dat<span class="op">$</span>datem))
<span class="kw">ggplot</span>(<span class="dt">data =</span> dat) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> datem, <span class="dt">y =</span> r)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> avg, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rect</span>(<span class="dt">data =</span> recessions_trim, 
            <span class="kw">aes</span>(<span class="dt">xmin =</span> Peak, <span class="dt">xmax =</span> Trough,
                <span class="dt">ymin =</span> <span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax =</span> <span class="op">+</span><span class="ot">Inf</span>),
            <span class="dt">fill =</span> <span class="st">&quot;pink&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Percent per year&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Real interest rates&quot;</span>, <span class="dt">subtitle =</span> <span class="st">&quot;with recession shading&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>The red line shows the sample average.</p>
</div>
<div id="consumption-around-the-great-recession" class="section level1">
<h1>Consumption around the Great Recession</h1>
<p>You explored the motive for smoothing consumption in class. So you can imagine the shock economists experienced when they saw this picture as the Great Recession unfolded:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Real Personal Consumption Expenditures (PCECC96)  DOWNLOAD </span>
<span class="co"># Observation: Q3 2017: 11,916.576 (+ more)  </span>
<span class="co"># Updated: Dec 21, 2017</span>
<span class="co"># Units: Billions of Chained 2009 Dollars, Seasonally Adjusted Annual Rate</span>
<span class="co"># Frequency: Quarterly</span>

dat &lt;-<span class="st"> </span><span class="kw">tq_get</span>(<span class="st">&quot;PCECC96&quot;</span>, <span class="dt">get =</span> <span class="st">&quot;economic.data&quot;</span>, 
              <span class="dt">from =</span> <span class="st">&quot;2005-01-01&quot;</span>,
              <span class="dt">to =</span> <span class="st">&quot;2012-01-01&quot;</span>)

recessions_trim &lt;-<span class="st"> </span><span class="kw">subset</span>(recessions_df, Peak <span class="op">&gt;=</span><span class="st"> </span><span class="kw">min</span>(dat<span class="op">$</span>date))
<span class="kw">ggplot</span>(<span class="dt">data =</span> dat) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> <span class="kw">log</span>(price))) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rect</span>(<span class="dt">data =</span> recessions_trim, 
            <span class="kw">aes</span>(<span class="dt">xmin =</span> Peak, <span class="dt">xmax =</span> Trough,
                <span class="dt">ymin =</span> <span class="op">-</span><span class="ot">Inf</span>, <span class="dt">ymax =</span> <span class="op">+</span><span class="ot">Inf</span>),
            <span class="dt">fill =</span> <span class="st">&quot;pink&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Log(Billions of real 2009 dollars)&quot;</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Real personal consumption expenditures&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="solow-convergence" class="section level1">
<h1>Solow convergence</h1>
<p>Recall the Solow model described in the <a href="https://%20umich.box.com/s/zlyddmutecbi4kapcvjlz1e9tl6l7jl1">section 6 notes</a>: <span class="math display">\[
\begin{align*}
K_{t+1} &amp;= (1-\delta)K_t + I_t \\
&amp;= (1-\delta)K_t + sY_t \\
&amp;= (1-\delta)K_t + sA^{1-\alpha}K_t^{\alpha}{N_t}^{1-\alpha}.
\end{align*}
\]</span> Consider an economy with no population growth: <span class="math inline">\(N_t = 1\)</span> for all <span class="math inline">\(t\)</span>. The steady-state level of capital is defined by <span class="math inline">\(K_t = K_{t+1} = K_{\star}\)</span>: <span class="math display">\[
\begin{align*}
K_{\star} &amp;= (1-\delta)K_{\star} + sA^{1-\alpha}K_{\star}^{\alpha} \\
\therefore 1 &amp;= (1-\delta) + sA^{1-\alpha}K_{\star}^{\alpha - 1} \\
\therefore K_{\star}^{\alpha - 1} &amp;= \frac{\delta}{s A^{1-\alpha}}
\end{align*}
\]</span> Simplifying the latter yields</p>
<p><span class="math display">\[
\begin{align*}
K_{\star} &amp;= \left( \frac{\delta}{s A^{1-\alpha}} \right)^{\frac{1}{\alpha - 1}} \\
\therefore K_{\star} &amp;= \left( \frac{s A^{1-\alpha}}{\delta} \right)^{\frac{1}{1-\alpha}}.
\end{align*}
 \]</span> Or <span class="math display">\[
K_{\star} = A \left( \frac{s}{\delta} \right)^{\frac{1}{1-\alpha}}.
\]</span></p>
<p>Define parameters:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s &lt;-<span class="st"> </span><span class="fl">0.15</span>
del &lt;-<span class="st"> </span><span class="fl">0.1</span>
alph &lt;-<span class="st"> </span><span class="fl">0.35</span>
N &lt;-<span class="st"> </span><span class="fl">1.0</span>
A &lt;-<span class="st"> </span><span class="fl">1.0</span></code></pre></div>
<p>The steady-state level of capital is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Kstar &lt;-<span class="st"> </span>A<span class="op">*</span>(s <span class="op">/</span><span class="st"> </span>del)<span class="op">^</span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>alph))</code></pre></div>
<div id="paths-of-capital-stock-for-different-starting-levels-of-capital" class="section level2">
<h2>Paths of capital stock for different starting levels of capital</h2>
<p>Now we’re interested in starting the economy from the steady-state level of capital and then observing how the sequence of capital stocks unfolds. We want to initialize the capital stocks and then iterate the capital stocks using a for loop with: <span class="math display">\[
K_{t+1} = (1-\delta)K_t + sA^{1-\alpha}K_t^{\alpha}.
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">horizon &lt;-<span class="st"> </span><span class="dv">100</span> <span class="co"># like the 100 spreadsheet rows</span>
K &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NaN</span>, horizon)
<span class="co"># Now make the first period</span>
K[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>Kstar
<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>horizon) {
  K[[ii]] &lt;-<span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>del)<span class="op">*</span>K[[ii<span class="op">-</span><span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>s<span class="op">*</span>A<span class="op">^</span>(<span class="dv">1</span><span class="op">-</span>alph)<span class="op">*</span>K[[ii<span class="op">-</span><span class="dv">1</span>]]<span class="op">^</span>alph
}</code></pre></div>
<p>Now we can start the capital 25 percent above and below the steady-state level and check for convergence:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Khi &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NaN</span>, horizon)
Klo &lt;-<span class="st"> </span>Khi
<span class="co"># Now make the first period</span>
Khi[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>Kstar<span class="op">*</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.25</span>)
Klo[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>Kstar<span class="op">*</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="fl">0.25</span>)
<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>horizon) {
  Khi[[ii]] &lt;-<span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>del)<span class="op">*</span>Khi[[ii<span class="op">-</span><span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>s<span class="op">*</span>A<span class="op">^</span>(<span class="dv">1</span><span class="op">-</span>alph)<span class="op">*</span>Khi[[ii<span class="op">-</span><span class="dv">1</span>]]<span class="op">^</span>alph
  Klo[[ii]] &lt;-<span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>del)<span class="op">*</span>Klo[[ii<span class="op">-</span><span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>s<span class="op">*</span>A<span class="op">^</span>(<span class="dv">1</span><span class="op">-</span>alph)<span class="op">*</span>Klo[[ii<span class="op">-</span><span class="dv">1</span>]]<span class="op">^</span>alph
}</code></pre></div>
<p>Now we can plot the sequences of capital stocks:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">toplot &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dv">1</span><span class="op">:</span>horizon, K, Klo, Khi)
toplot &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(toplot) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">ind =</span> V1)
toplot</code></pre></div>
<pre><code>## # A tibble: 100 x 4
##      ind     K   Klo   Khi
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1    1.  1.87  1.40  2.33
##  2    2.  1.87  1.43  2.30
##  3    3.  1.87  1.46  2.27
##  4    4.  1.87  1.48  2.24
##  5    5.  1.87  1.50  2.22
##  6    6.  1.87  1.53  2.20
##  7    7.  1.87  1.55  2.17
##  8    8.  1.87  1.57  2.15
##  9    9.  1.87  1.59  2.13
## 10   10.  1.87  1.60  2.12
## # ... with 90 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Reshape the data to plot using ggplot</span>
toplot_K &lt;-<span class="st"> </span>toplot <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(K, Klo, Khi, <span class="dt">key =</span> <span class="st">&quot;series&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;lvl&quot;</span>)
toplot_K</code></pre></div>
<pre><code>## # A tibble: 300 x 3
##      ind series   lvl
##    &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1    1. K       1.87
##  2    2. K       1.87
##  3    3. K       1.87
##  4    4. K       1.87
##  5    5. K       1.87
##  6    6. K       1.87
##  7    7. K       1.87
##  8    8. K       1.87
##  9    9. K       1.87
## 10   10. K       1.87
## # ... with 290 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Now plot the sequences</span>
<span class="kw">ggplot</span>(<span class="dt">data =</span> toplot_K) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> ind, <span class="dt">y=</span> lvl, 
                          <span class="dt">color =</span> series, 
                          <span class="dt">linetype =</span> series), <span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Index&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Capital stock&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set2&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="changing-the-saving-rate" class="section level2">
<h2>Changing the saving rate</h2>
<p>Now starting in period 51 the saving rate changes to .25. We’re also interested in plotting the series for 125 periods. Let’s start the problem over and make the saving rates a vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">horizon &lt;-<span class="st"> </span><span class="dv">125</span>
K &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, horizon)
s &lt;-<span class="st"> </span><span class="kw">append</span>(<span class="kw">rep</span>(<span class="fl">0.15</span>, <span class="dv">50</span>), <span class="kw">rep</span>(<span class="fl">0.25</span>, horizon <span class="op">-</span><span class="st"> </span><span class="dv">50</span>))
<span class="co"># Check</span>
s[[<span class="dv">50</span>]]</code></pre></div>
<pre><code>## [1] 0.15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s[[<span class="dv">51</span>]]</code></pre></div>
<pre><code>## [1] 0.25</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(s)</code></pre></div>
<pre><code>## [1] 125</code></pre>
<p>Now we want to calculate the capital stock just like before—making suring that we index <code>s</code> appropriately:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">K[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>Kstar
<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span>horizon) {
  K[[ii]] &lt;-<span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>del)<span class="op">*</span>K[[ii<span class="op">-</span><span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>s[[ii<span class="op">-</span><span class="dv">1</span>]]<span class="op">*</span>A<span class="op">^</span>(<span class="dv">1</span><span class="op">-</span>alph)<span class="op">*</span>K[[ii<span class="op">-</span><span class="dv">1</span>]]<span class="op">^</span>alph
}</code></pre></div>
<p>Calculating <span class="math inline">\(C\)</span>, <span class="math inline">\(Y\)</span>, and <span class="math inline">\(I\)</span> is easy. We want to create a data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="kw">cbind</span>(<span class="dv">1</span><span class="op">:</span>horizon, K, s)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">ind =</span> V1)
<span class="co"># Calculate the macroeconomic series</span>
dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Y =</span> A<span class="op">*</span>K<span class="op">^</span>alph,
         <span class="dt">I =</span> s<span class="op">*</span>Y,
         <span class="dt">C =</span> (<span class="dv">1</span><span class="op">-</span>s)<span class="op">*</span>Y)
<span class="kw">head</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 6
##     ind     K     s     Y     I     C
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1    1.  1.87 0.150  1.24 0.187  1.06
## 2    2.  1.87 0.150  1.24 0.187  1.06
## 3    3.  1.87 0.150  1.24 0.187  1.06
## 4    4.  1.87 0.150  1.24 0.187  1.06
## 5    5.  1.87 0.150  1.24 0.187  1.06
## 6    6.  1.87 0.150  1.24 0.187  1.06</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(dat)</code></pre></div>
<pre><code>## # A tibble: 6 x 6
##     ind     K     s     Y     I     C
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  120.  4.07 0.250  1.63 0.409  1.23
## 2  121.  4.07 0.250  1.63 0.409  1.23
## 3  122.  4.07 0.250  1.63 0.409  1.23
## 4  123.  4.07 0.250  1.64 0.409  1.23
## 5  124.  4.08 0.250  1.64 0.409  1.23
## 6  125.  4.08 0.250  1.64 0.409  1.23</code></pre>
<p>We can also add in the steady-state level of capital when <code>s_end = .25</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s_end &lt;-<span class="st"> </span>.<span class="dv">25</span>
Kstar_end &lt;-<span class="st"> </span>A<span class="op">*</span>(s_end <span class="op">/</span><span class="st"> </span>del)<span class="op">^</span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>alph))
dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">New steady-state K</span><span class="st">`</span> =<span class="st"> </span>Kstar_end)</code></pre></div>
<p>Now we can plot everything:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Kplot &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(K, <span class="st">`</span><span class="dt">New steady-state K</span><span class="st">`</span>, <span class="dt">key =</span> <span class="st">&quot;Series&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;lvl&quot;</span>)
<span class="kw">ggplot</span>(<span class="dt">data =</span> Kplot) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> ind, <span class="dt">y =</span> lvl, <span class="dt">color =</span> Series)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Index&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Capital stock&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">macro &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">gather</span>(Y, I, C, <span class="dt">key =</span> <span class="st">&quot;Series&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;lvl&quot;</span>)
<span class="kw">ggplot</span>(<span class="dt">data =</span> macro) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> ind, <span class="dt">y =</span> lvl, <span class="dt">color =</span> Series)) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Index&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Real levels&quot;</span>)</code></pre></div>
<p><img src="computer_work_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
</div>
<div id="changes-in-government-spending-and-interest-rates" class="section level1">
<h1>Changes in government spending and interest rates</h1>
<div id="solow-assumptions" class="section level2">
<h2>Solow assumptions</h2>
<p>Consider a Solow economy where a representative household saves a constant fraction of after-tax income and a government the levies lump-sum taxes to finanace government consumption, while running a balanced budget. Government consumption is a constant fraction, <span class="math inline">\(\phi\)</span>, of output.</p>
<p>The system of equations that describes the economy is given by <span class="math display">\[
\begin{align*}
Y_t &amp;= A^{1-\alpha}K_{t}^{\alpha}N_t^{1-\alpha} \\
N_t &amp;= 1 \\
Y_t &amp;= C_{t} + I_{t} + G_{t} \\
I_t &amp;= s (Y_{t} - T_{t}) \\
T_t &amp;= G_t = \phi Y_t \\
K_{t+1} &amp;= (1-\delta)K_t + I_t.
\end{align*}
\]</span></p>
<p>The steady state of this model is given by <span class="math inline">\(K_{t+1} = K_{t} = K_{\star}\)</span>. Developing the equation that governs the evolution of capital yields <span class="math display">\[
\begin{align*}
K_{t+1} &amp;= (1-\delta) K_{t} + I_t \\
&amp;= (1-\delta) K_{t} + s (Y_t - T_t) \\
&amp;= (1-\delta) K_{t} + s (Y_t - G_t) \\
&amp;= (1-\delta) K_{t} + s (Y_t - \phi Y_t) \\
&amp;= (1-\delta) K_{t} + s (1-\phi)Y_t \\
&amp;= (1-\delta) K_{t} + s (1-\phi)A^{1-\alpha}K_t^{\alpha}.
\end{align*}
\]</span> In steady state, the latter evaluates to <span class="math display">\[
\begin{align*}
K_{\star} &amp;= (1-\delta) K_{\star} + s (1-\phi)A^{1-\alpha}K_{\star}^{\alpha} \\
\therefore \delta K_{\star} &amp;= s (1-\phi)A^{1-\alpha}K_{\star}^{\alpha} \\
\therefore \delta &amp;= s (1-\phi)A^{1-\alpha}K_{\star}^{\alpha-1} \\
\therefore K_{\star}^{\alpha-1} &amp;= \frac{\delta}{s (1-\phi)A^{1-\alpha}} \\
\therefore K_{\star} &amp;= \left( \frac{\delta}{s (1-\phi)A^{1-\alpha}} \right)^{\frac{1}{\alpha - 1}}
\end{align*}
\]</span> or <span class="math display">\[
\begin{equation}
K_{\star} = A \left( \frac{s(1-\phi)}{\delta} \right)^{\frac{1}{1-\alpha}}.
\end{equation}
\]</span> The latter is an expression for steady-state capital using the Solow assumption. When <span class="math inline">\(\phi = 0\)</span>, then we are back to the expression for <span class="math inline">\(K_{\star}\)</span> in the section on Solow convergence.</p>
<p>Steady-state output is <span class="math display">\[
\begin{align*}
Y_{\star} &amp;= A^{1-\alpha}K_{\star}^{\alpha} \\
&amp;= A^{1-\alpha} A^{\alpha} \left( \frac{s(1-\phi)}{\delta} \right)^{\frac{\alpha}{1-\alpha}} \\
&amp;= A \left( \frac{s(1-\phi)}{\delta} \right)^{\frac{\alpha}{1-\alpha}}.
\end{align*}
\]</span> Consumption is given by <span class="math display">\[
\begin{align*}
Y_t &amp;= C_t + I_t + G_t \\
\therefore C_t &amp;= Y_t - I_t - G_t \\
&amp;= Y_t - s(Y_t - T_t) - G_t = Y_t - s(Y_t - G_t) - G_t \\
&amp;= Y_t - s(Y_t - \phi Y_t) - \phi Y_t \\
&amp;= Y_t - s(1-\phi)(Y_t - \phi Y_t) - \phi Y_t \\
&amp;= (1-s) Y_t.
\end{align*}
\]</span> Steady-state consumption is given by <span class="math display">\[
\begin{equation}
C_{\star} = (1-s) A \left( \frac{s(1-\phi)}{\delta} \right)^{\frac{\alpha}{1-\alpha}}.
\end{equation}
\]</span></p>
</div>
<div id="standard-preferences-with-a-behavioral-rule-for-expectations" class="section level2">
<h2>“Standard preferences” with a behavioral rule for expectations</h2>
<div id="a-behavioral-rule-for-expectations" class="section level3">
<h3>A behavioral rule for expectations</h3>
<p>With “standard preference” the consumption Euler equation would be (with <span class="math inline">\(\beta = 1\)</span> and log preferences) <span class="math display">\[
\begin{align*}
\frac{1}{C_t} = (1+r_t) \mathbb{E}_t \left[ \frac{1}{C_{t+1}} \right].
\end{align*}
\]</span> We are going to posit that consumers expect <span class="math inline">\(C_{t+1}\)</span> to equal <span class="math inline">\(C_{\star}\)</span>, making the interest rate <span class="math display">\[
\begin{align*}
1+r_t = \frac{C_{\star}}{C_t}.
\end{align*}
\]</span> ## Computer simulation</p>
<p>The following simulation is done in Python, which can be used in R Markdown through the <code>reticulate</code> package.</p>
<p>Suppose that <span class="math inline">\(\phi_{t}\)</span> is uniformly distributed between .17 and .23. We’re going to simulate the economy, using <span class="math inline">\(\phi_{t}\)</span> as the driving force.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy <span class="im">as</span> np
<span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt
<span class="co"># Parameter values</span>
s <span class="op">=</span> <span class="fl">0.2</span>
delta <span class="op">=</span> <span class="fl">0.1</span>
alpha <span class="op">=</span> <span class="fl">0.35</span>
A <span class="op">=</span> <span class="fl">10.0</span>
phi_steady_state <span class="op">=</span> <span class="fl">0.2</span></code></pre></div>
<p>Calculate and display steady-state levels:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">Kstar <span class="op">=</span> A<span class="op">*</span>(s<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>phi_steady_state)<span class="op">/</span>delta)<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>alpha))
Ystar <span class="op">=</span> (A<span class="op">**</span>(<span class="dv">1</span><span class="op">-</span>alpha))<span class="op">*</span>(Kstar<span class="op">**</span>alpha)
<span class="bu">print</span>(<span class="st">&quot;Steady-state capital is&quot;</span>, Kstar)</code></pre></div>
<pre><code>## Steady-state capital is 20.607757849261993</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&quot;Steady-state output is&quot;</span>, Ystar)</code></pre></div>
<pre><code>## Steady-state output is 12.879848655788745</code></pre>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
